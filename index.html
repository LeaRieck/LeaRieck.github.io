<!DOCTYPE html>

<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="scaffolded-by" content="https://github.com/google/stagehand">
  <title>Escape the Dark</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="favicon.ico">
  <script defer src="main.dart.js"></script>
</head>

<body class="background gradient">
    <div id="startMenu" class="menu">
      <h1 id="title">Escape the Dark</h1>
      <button id="PlayButton" class="buttonStyle menuButtonWidth"
        onclick='requestOrientationPermission();'>Play</button>
      <button id="LevelEditorButton" class="buttonStyle menuButtonWidth hidden">Leveleditor</button>
    </div>

    <div id="levelEditorBox" class="scrollBox hidden">
      <div id='editorOverview' class="menu">
        <h2>Level Editor</h2>
        <div id="overviewSection" class="editorSection">

          <button id="editorBack" class="buttonStyle menuButtonWidth backToMenu">Menu</button>
          <button id="newLevel" class="buttonStyle menuButtonWidth">new Level</button>
        </div>
        <div id="customlevelbox" class="menu"></div>
        <div id="customLevelOutbox" class="customOutBox hidden">
          <pre id="customOut" class="customOut"></pre>
          <button id="customCopy" class="buttonStyle menuButtonWidth">Copy JSON</button>
        </div>
      </div>
      <div id="levelEditor" class="levelEditor hidden"></div>
    </div>
    <div id="levelOverviewBox" class="scrollBox hidden">
      <div id="levelOverview" class="menu"></div>
    </div>
    <div id="level" class="level hidden">
      <div id="levelOverlay" class="overlay">
        <div class="fixedOverlay">
          <div id="timer"></div>
          <div id="countableEntities">
            <div id="lives" class="lives">
              <div id="numberOfLives" class="numberPos"></div>
            </div>
            <img src="resources/assets/Key.svg" alt="" id="KeyOverlay" class="size50 hidden">
          </div>
          <div>
            <button id="pauseButton" class="buttonStyle menuButtonWidth">Pause</button>
          </div>
        </div>
        <div id="powerUps" class="powerUpOverlay">
          <img src="resources/assets/bigger_viewfield.svg" alt="" id="bigger_viewfieldOverlay" class="hidden">
          <img src="resources/assets/smaller_viewfield.svg" alt="" id="smaller_viewfieldOverlay" class="hidden">
          <img src="resources/assets/fast.svg" alt="" id="fastOverlay" class="hidden">
          <img src="resources/assets/slow.svg" alt="" id="slowOverlay" class="hidden">
          <img src="resources/assets/Invert_Control.svg" alt="" id="Invert_ControlOverlay" class="hidden">
        </div>
      </div>


      <div id="camera" class="camera">
        <div id="levelBackground" class="gridfield field background repeat">
        </div>
        <div id="field" class="gridfield field">
        </div>
        <div id="fieldborder" class="gridfield field fieldborder">
        </div>
        <div id="viewfield" class="gridfield field"></div>
      </div>
    </div>

    <div id="pauseMenu" class="popupMenu hidden">
      <p class="lineBreak">Paused</p>
      <button id="Continue" class="buttonStyle menuButtonWidth">Continue</button>
      <button id="LevelOverviewButton" class="buttonStyle menuButtonWidth levelOverviewButton">Levelselection</button>
      <button id="BackToMenuButton2" class="backToMenu buttonStyle menuButtonWidth">Menu</button>
    </div>

    <div id="finished" class="popupMenu hidden">
      <p id="finishedText" class="lineBreak"></p>
      <button id="Again" class="buttonStyle menuButtonWidth">Play again</button>
      <button id="Next" class="buttonStyle menuButtonWidth">Next level</button>
      <button id="LevelOverviewButton2" class="buttonStyle menuButtonWidth levelOverviewButton">Levelselection</button>
      <button id="backToMenuButton" class="buttonStyle menuButtonWidth backToMenu">Menu</button>
    </div>
    <img src="resources/logo.svg" class="logo" id=logo>

  <script type="text/javascript">
    function requestOrientationPermission() {
      if (navigator.userAgent.match('iPhone') ||
        navigator.userAgent.match('iPad') ||
        navigator.userAgent.match('iPod') || (navigator.userAgent.match('Mac') && navigator.maxTouchPoints > 0)) {
        DeviceOrientationEvent.requestPermission()
          .then(response => {
            if (response == 'granted') {
              window.addEventListener('deviceorientation', (e) => {

              })
            }
          })
          .catch(console.error)
      }

    }
  </script>

</body>

</html>